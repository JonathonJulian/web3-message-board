# RKE2 worker configuration
# Generated by Ansible - do not manually edit

# Server to connect to
server: {{ rke2_server_url }}

# Token file location
token-file: {{ rke2_worker_config_dir }}/agent-token

# Node name - use hostname by default
node-name: {{ ansible_hostname }}

# Worker-specific settings
{% if rke2_worker_node_labels | length > 0 %}
node-label:
{% for label in rke2_worker_node_labels %}
  - "{{ label }}"
{% endfor %}
{% endif %}

{% if rke2_worker_node_taints | length > 0 %}
node-taint:
{% for taint in rke2_worker_node_taints %}
  - "{{ taint }}"
{% endfor %}
{% endif %}

# Additional custom configuration
{% for key, value in rke2_worker_additional_config.items() %}
{{ key }}: {{ value }}
{% endfor %}